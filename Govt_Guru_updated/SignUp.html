<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sign Up â€” Government Guru</title>
  <style>
    :root{
      --sky-1:#e9f8ff;
      --sky-2:#d0eeff;
      --accent:#2b98c7;
      --accent-dark:#207aa3;
      --card:#ffffff;
      --muted:#6b90a6;
    }
    body{margin:0;min-height:100vh;font-family:Inter,Arial,sans-serif;
      background:linear-gradient(135deg,var(--sky-1),var(--sky-2));
      display:flex;align-items:center;justify-content:center;padding:24px;}
    .card{width:360px;background:var(--card);border-radius:14px;padding:26px;
      box-shadow:0 10px 30px rgba(16,60,90,0.06);border:1px solid rgba(43,152,199,0.08)}
    .logo{width:46px;height:46px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-dark));
      color:white;display:inline-flex;align-items:center;justify-content:center;font-weight:700;margin-bottom:8px}
    h1{margin:6px 0 0;color:var(--accent-dark);font-size:20px}
    p.sub{color:var(--muted);font-size:13px;margin:6px 0 18px}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
    input{width:100%;padding:12px 14px;border-radius:10px;border:1px solid rgba(16,60,90,0.06);background:#fbfeff;margin-bottom:12px;font-size:14px}
    input:focus{box-shadow:0 8px 18px rgba(43,152,199,0.12);outline:none;transform:translateY(-1px)}
    button.primary{background:linear-gradient(180deg,var(--accent),var(--accent-dark));color:white;border:none;padding:12px;border-radius:10px;font-weight:600;width:100%;cursor:pointer}
    button.primary:hover{transform:scale(1.02)}
    .secondary{margin-top:12px;text-align:center;color:var(--muted)}
    .secondary a{color:var(--accent);text-decoration:none;font-weight:600}
    .note{font-size:13px;color:var(--muted);margin-top:8px}
    .error{color:#c94a4a;font-size:13px;margin-top:6px;display:none}
  </style>
</head>
<body>
  <main class="card" role="main">
    <div style="display:flex;gap:12px;align-items:center">
      <div class="logo">GG</div>
      <div>
        <div style="font-weight:700;color:var(--accent-dark)">Government Guru</div>
        <div style="font-size:12px;color:var(--muted)">Create your account</div>
      </div>
    </div>

    <h1>Get started</h1>
    <p class="sub">Sign up to access exam resources</p>

    <form id="signupForm" onsubmit="return handleSignup(event)">
      <label for="name">Full name</label>
      <input id="name" type="text" placeholder="Your full name" required>

      <label for="email">Email</label>
      <input id="email" type="email" placeholder="you@example.com" required>

      <label for="password">Password</label>
      <input id="password" type="password" placeholder="Choose a password" required>

      <label for="confirm">Confirm password</label>
      <input id="confirm" type="password" placeholder="Repeat password" required>

      <div id="error" class="error"></div>

      <button class="primary" type="submit">Create account</button>
    </form>

    <div class="secondary">Already registered? <a href="LogIn.html">Log in</a></div>
    <div class="note">This demo saves your account in your browser only (localStorage).</div>
  </main>

<script>
  function readUsers(){
    try{return JSON.parse(localStorage.getItem('gg_users')||'[]')}
    catch(e){return []}
  }

  function writeUsers(users){
    localStorage.setItem('gg_users', JSON.stringify(users));
  }

  function handleSignup(e){
    e.preventDefault();
    const name = document.getElementById('name').value.trim();
    const email = document.getElementById('email').value.trim().toLowerCase();
    const password = document.getElementById('password').value;
    const confirm = document.getElementById('confirm').value;
    const errorEl = document.getElementById('error');

    errorEl.style.display='none';
    if(!name || !email || !password || !confirm){
      errorEl.style.display='block';
      errorEl.textContent='Please fill all fields.';
      return false;
    }
    if(password !== confirm){
      errorEl.style.display='block';
      errorEl.textContent='Passwords do not match.';
      return false;
    }
    // basic password length check
    if(password.length < 6){
      errorEl.style.display='block';
      errorEl.textContent='Password should be at least 6 characters.';
      return false;
    }

    const users = readUsers();
    if(users.find(u => u.email === email)){
      errorEl.style.display='block';
      errorEl.textContent='An account with this email already exists. Please log in.';
      return false;
    }

    users.push({name, email, password});
    writeUsers(users);

    // set current session and go to Select page
    localStorage.setItem('gg_current', JSON.stringify({name, email}));
    window.location.href = 'Select.html';
    return false;
  }
</script>
</body>
</html>
